<!DOCTYPE html>
<html>
<head>
  <title>MedicDePoche3000</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="icon" type="image/jpeg" href="https://www.larousse.fr/encyclopedie/data/images/1009656-Drapeau_de_la_Croix-Rouge.jpg">
  <style>
    body {
      background-color: #fde9e0; /* Couleur de fond initiale */
      transition: background-color 1s ease; /* Transition de couleur */
    }
    .button-container {
      display: flex;
      justify-content: space-around;
      width: 80%; /* Largeur fixe */
      margin: 0 auto; /* Centrer horizontalement */
    }

    .button {
      width: 120px; /* Largeur fixe */
      height: 40px; /* Hauteur fixe */
    }
    /* Style du bandeau d'entête */
    .bandeau-entete {
      background-color: black;
      color: #6cdd9d;
      padding: 10%; /* Ajoute un peu d'espacement autour du texte */
      width: 100%; /* Largeur de 100% pour occuper toute la largeur de la page */
      box-sizing: border-box; /* Inclut le rembourrage dans la largeur totale */
      position: fixed; /* Fixe le bandeau en haut de la fenêtre */
      top: 0; /* Place le bandeau au sommet de la fenêtre */
      left: 0; /* Aligne le bandeau à gauche de la fenêtre */
      width: 100%; /* Largeur de 100% pour occuper toute la largeur de la fenêtre */
      z-index: 9999; /* Assure que le bandeau est au-dessus de tout le contenu */
    }
    /* Style des boutons */
    .bouton-rectangulaire {
      background-color: #6cdd9d; /* Couleur de fond */
      color: #6cdd9d; /* Couleur du texte */
      padding: 10px 20px; /* Espacement à l'intérieur du bouton */
      border: none; /* Supprime les bordures */
      cursor: pointer; /* Curseur de la souris change en main lorsqu'il survole le bouton */
      text-align: center; /* Centre le texte à l'intérieur du bouton */
      display: inline-block; /* Permet de spécifier une largeur/hauteur à l'élément */
      text-decoration: none; /* Supprime le soulignement du texte */
      font-size: 16px; /* Taille du texte */
      font-weight: bold; /* Poids de la police en gras */
      outline: none; /* Supprime la bordure de focus */
    }

    /* Style pour les espacements entre les boutons */
    .bouton-espace {
      margin-right: 10px; /* Ajoute un espacement à droite entre les boutons */
    }
    
  </style>
  
</head>
<body>
  <header class="entete">
    <h1><span style="font-size: 30px;"><strong>MedicDePoche3000</strong></span></h1>
    <div class="boutons">
      <button class="bouton-rectangulaire" title="Questions récurrentes" onclick="openFile('.html')">FAQ</button>
      <button class="bouton-rectangulaire bouton-espace" title="Les numéros à appeler en cas d'urgence" onclick="openFile('.html')">Les numéros importants</button>
      <button class="bouton-rectangulaire bouton-espace" title="Les auteurs de ce site et les aides" onclick="openFile('.html')">Crédits</button>
      <button class="bouton-rectangulaire bouton-espace" title="Pas besoin de l'expliquer" onclick="openFile('.html')">Nous supporter (gros rat)</button>
    </div>
  </header>
  <img src="Corps.png" alt="image_corps_page_d-accueil" width="300" height="500">

  <!-- Chatbox réduite -->
  <div class="chatbox-minimized" onclick="toggleChatbox()">
    <img src="chat-icon.png" alt="Chat Icon" width="50" height="50">
  </div>

  <!-- Chatbox complète -->
  <div class="chatbox" id="chatbox">
    <div class="chat-messages" id="chat-messages">
      <!-- Les messages de chat seront ajoutés ici -->
    </div>
    <div class="chat-input">
      <input type="text" id="input" placeholder="Pose ta question ici" onkeypress="handleKeyPress(event)">
      <button onclick="sendMessage()">Envoyer</button>
    </div>
  </div>

<script>
  // function askQuestion() {
  //   // Get the user input from the text box
  //   var input = document.getElementById("input").value;
  //   // Check if the input contains some keywords
  //   if (input.includes("bonjour")) {
  //     // Greet the user
  //     alert("Bonjour, comment vas-tu ? Que veux-tu savoir ?");
  //   } else if (input.includes("nom")) {
  //     // Tell the user your name
  //     alert("Mon nom est MedicDePoche3000. Je suis ici pour vous aider avec vos blessures.");
  //   } else if (input.includes("heure")) {
  //     // Tell the user the current time
  //     var date = new Date();
  //     var hours = date.getHours();
  //     var minutes = date.getMinutes();
  //     alert("Il est " + hours + ":" + minutes);
  //   } else if (input.includes("Bonjour")) {
  //     alert("Bonjour, comment vas-tu ? Que veux-tu savoir ?");
  //   } else if (input.includes("mourir")) {
  //     alert("T'es mal barré :/");
  //   } else if (question.includes("pansement")) {
  //   answer = "Pour une petite coupure, nettoyez d'abord la plaie avec de l'eau et du savon, puis appliquez un pansement propre.";
  // } else if (question.includes("fracture")) {
  //   answer = "En cas de suspicion de fracture, il est important d'immobiliser la zone blessée et de consulter un professionnel de santé dès que possible.";
  // } else if (question.includes("brûlure")) {
  //   answer = "En cas de brûlure, refroidissez la zone affectée sous de l'eau froide pendant au moins 10 minutes, puis couvrez la brûlure avec un chiffon propre.";
  // } else if (question.includes("entorse")) {
  //   answer = "Pour une entorse légère, il est recommandé de suivre le protocole RICE : repos, glace, compression et élévation.";
  //   } else {
  //     // Tell the user you don't understand
  //     alert("Désolé, je n'ai pas compris votre question. Veuillez la reformuler.");
  //   }
  // }

  function sendMessage() {
    var input = document.getElementById("input").value;
    // Add user message to chatbox
    addMessage(input, true);
    // Clear input field
    document.getElementById("input").value = "";
    // Respond to the question
    answerQuestion(input);
  }

  function addMessage(message, isUser) {
    var chatMessages = document.getElementById("chat-messages");
    var messageDiv = document.createElement("div");
    messageDiv.classList.add("message");
    if (isUser) {
      messageDiv.classList.add("user-message");
    } else {
      messageDiv.classList.add("bot-message");
    }
    messageDiv.textContent = message;
    chatMessages.appendChild(messageDiv);
  }
  
//   function answerQuestion(question) {
//   var answer;
//   if (question.includes("bonjour")) {
//     answer = "Bonjour, comment vas-tu ? Que veux-tu savoir ?";
//   } else if (question.includes("nom")) {
//     answer = "Mon nom est MedicDePoche3000. Je suis ici pour vous aider avec vos blessures.";
//   } else if (question.includes("heure")) {
//     var date = new Date();
//     var hours = date.getHours();
//     var minutes = date.getMinutes();
//     answer = "Il est " + hours + ":" + minutes;
//   } else if (question.includes("mourir")) {
//     answer = "T'es mal barré :/";
//   } else if (question.includes("pansement")) {
//     answer = "Pour une petite coupure, nettoyez d'abord la plaie avec de l'eau et du savon, puis appliquez un pansement propre.";
//   } else if (question.includes("fracture")) {
//     answer = "En cas de suspicion de fracture, il est important d'immobiliser la zone blessée et de consulter un professionnel de santé dès que possible.";
//   } else if (question.includes("brûlure")) {
//     answer = "En cas de brûlure, refroidissez la zone affectée sous de l'eau froide pendant au moins 10 minutes, puis couvrez la brûlure avec un chiffon propre.";
//   } else if (question.includes("entorse")) {
//     answer = "Pour une entorse légère, il est recommandé de suivre le protocole RICE : repos, glace, compression et élévation.";
//   } else {
//     answer = "Désolé, je n'ai pas compris votre question. Veuillez la reformuler.";
//   }
//   addMessage(answer, false);
// }
// Fonction pour envoyer la question à ChatGPT et afficher la réponse

    function toggleChatbox() {
      var chatbox = document.getElementById("chatbox");
      chatbox.classList.toggle("chatbox-visible");
    }

    function openFile(url) {
      window.open(url, "popup", "width=600,height=600");
    }
  </script>
  <style>
    .close-button {
      display: none; /* Par défaut, le bouton est caché */
    }

    /* Afficher le bouton uniquement lorsque la chatbox est visible */
    .chatbox-visible .close-button {
      display: block;
    }
  </style>
  <!-- Bouton pour fermer la chatbox -->
<div class="close-button" onclick="toggleChatbox()">
  <img src="x-rouge.png" alt="Fermer la chatbox" width="20" height="20">
</div>
<script>
  function handleKeyPress(event) {
    if (event.key === "Enter") {
      sendMessage(); // Appel de la fonction sendMessage lorsque la touche "Entrée" est pressée
    }
  }
</script>
  <!-- Autres boutons -->
  <input type="button" value="Mains" onclick="openFile('blessures_mains.html')" class="invisible-button" id="button-mains">
  <input type="button" value="Mains" onclick="openFile('blessures_mains.html')" class="invisible-button" id="button-mains2">
  <input type="button" value="Torse" onclick="openFile('blessures_torse.html')" class="square-button invisible-button" id="button-torse">
  <input type="button" value="Jambes" onclick="openFile('blessures_jambes.html')" class="square-button invisible-button" id="button-jambes">
  <input type="button" value="Tête" onclick="openFile('blessures_tete.html')" class="rectangle-button invisible-button" id="button-tete">
  <input type="button" value="Bras" onclick="openFile('blessures_bras.html')" class="line-button invisible-button" id="button-arms">
  <input type="button" value="Bras" onclick="openFile('blessures_bras.html')" class="line-button invisible-button" id="button-arms2">
  <button onclick="convertTextToSpeech()">Convertir en discours</button>

  <script>
    function convertTextToSpeech() {
      // Texte à convertir en discours
      var texte = "Bonjour, bienvenue sur MedicDePoche3000, comment vas-tu ? Que veux-tu savoir ?";
      
      // Créer un objet SpeechSynthesisUtterance
      var utterance = new SpeechSynthesisUtterance(texte);
      
      // Définir la langue en français
      utterance.lang = 'fr-FR';
      
      // Utiliser l'API SpeechSynthesis pour parler
      window.speechSynthesis.speak(utterance);
    }
    function askChatGPT(question) {
  // Envoyer la question à l'API de GPT-3.5 (vous devez remplacer 'YOUR_API_KEY' par votre clé API réelle)
  fetch('https://api.openai.com/v1/completions', {
      method: 'POST',
      headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer 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'
      },
      body: JSON.stringify({
          model: 'text-davinci-003', // Modèle GPT-3.5 à utiliser
          prompt: question, // Question de l'utilisateur
          max_tokens: 100 // Nombre maximal de tokens dans la réponse
      })
  })
  .then(response => response.json())
  .then(data => {
      // Vérifier si data.choices est défini et non vide
      if (data.choices && data.choices.length > 0) {
          // Récupérer la réponse de ChatGPT
          const answer = data.choices[0].text.trim();
          // Afficher la réponse dans la chatbox
          addMessage(answer, false);
      } else {
          // Si aucune réponse n'est renvoyée, afficher un message d'erreur
          addMessage("Désolé, aucune réponse n'a été trouvée.", false);
      }
  })
  .catch(error => {
      console.error('Error:', error);
  });
}
  </script>
  <script src="animation.js"></script>
</body>
</html>